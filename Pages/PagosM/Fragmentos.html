<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
    <head th:replace="~{Layout/_Layout :: head}">
        <title>Creaciones Mari</title>
    </head>
    <body>
        <section th:fragment="ListaMetodosP">
            <div class="container">
                <div class="row row-Card">
                    <div class="col col-sm-12 col-md-12 col-lg-12 col-xl-12">
                        <div class="card card-Proyecto">
                            <div class="card-header card-header-Proyecto">
                                <div class="row">
                                    <div class="col-2">
                                        <a class="text-white" th:href="@{/historial}" style="font-size: 32px;"><i class="fa-solid fa-backward"></i></a>
                                    </div>
                                    <div class="col-10">
                                        <h2 class="text-black font-weight-bold" style="padding-left: 20%">Metodos de Pago</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body card-body-Proyecto" style="overflow-y: auto">
                                <div class="row bubble-row p-2" th:each="m : ${metodos}">
                                    <div class="col-3">
                                        <img th:src="${getCardImage(m.numTarjeta)}" class="card-img-top" alt="RutImagen" />
                                    </div>
                                    <div class="col-6">
                                        <div class="row col-12 p-1">
                                            <p th:text="${getCardTypeLabel(m.numTarjeta)}"></p>
                                        </div>
                                        <div class="row col-12 p-1">
                                            <p th:text="${getEncryptedCardNumber(m.numTarjeta)}"></p>
                                        </div>
                                        <div class="row col-12 p-1">
                                            <p th:text="${m.nombreTitular}"></p>
                                        </div>
                                        <div class="row col-12 p-1">
                                            <p th:text="${m.fecVencimiento}"></p>
                                        </div>
                                    </div>
                                    <div class="col-3" >
                                        <div class="row col-12 p-1">
                                            <label for="codSeguridad">CÃ³digo de Seguridad:</label>
                                            <input type="number" id="codSeguridad" name="codSeguridad" class="form-control" />
                                        </div>
                                        <div class="row p-3">
                                            <div class="col-6">
                                                <form th:action="@{/pagos/pay/}+${m.numtarjeta}" method="post">
                                                    <button type="submit" class="btn btn-Proyecto">Pagar</button>
                                                </form>
                                            </div>
                                            <div class="col-6">
                                                <form th:action="@{/pagos/delete/}+${m.numtarjeta}" method="post">
                                                    <button type="submit" class="btn btn-Secon-Proyecto">Eliminar</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <img th:src="@{/img/bannerH.png}" alt="BannerHorizontal" class="bannerH-img"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </body>
</html>